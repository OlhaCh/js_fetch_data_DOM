{"version":3,"sources":["scripts/main.js"],"names":["BASE_URL","phonesWithDetails","request","url","fetch","then","response","ok","setTimeout","Promise","reject","Error","status","statusText","json","getPhones","getPhonesDetails","arr","all","map","phone","id","result","forEach","el","push","document","body","insertAdjacentHTML","name","join","catch","error","window","console","warn"],"mappings":";AAAA,aAEA,IAAMA,EAAW,mEAGXC,EAAoB,GAEpBC,EAAU,WAACC,IAAAA,EAAM,UAAA,OAAA,QAAA,IAAA,UAAA,GAAA,UAAA,GAAA,GACdC,OAAAA,MAASJ,GAAAA,OAAAA,GAAWG,OAAAA,EAApB,UACJE,KAAK,SAAAC,GASGA,OARFA,EAASC,IACZC,WAAW,WACFC,OAAAA,QAAQC,OACb,IAAIC,MAASL,GAAAA,OAAAA,EAASM,OAAYN,OAAAA,OAAAA,EAASO,eAE5C,KAGEP,EAASQ,UAIhBC,EAAY,WAAMb,OAAAA,KAExB,SAASc,EAAiBC,GACjBR,OAAAA,QAAQS,IAAID,EAAIE,IAAI,SAAAC,GAASlB,OAAAA,EAAYkB,IAAAA,OAAAA,EAAMC,QACnDhB,KAAK,SAAAiB,GACJA,EAAOC,QAAQ,SAAAC,GAAMvB,OAAAA,EAAkBwB,KAAKD,KAE5CE,SAASC,KAAKC,mBAAmB,aAGhCN,qBAAAA,OAAAA,EAAOH,IAAI,SAAAC,GAAgBA,MAAAA,OAAAA,OAAAA,EAAMS,KAAjB,WAA8BC,KAAK,IAHpD,4BAUNf,IACGV,KAAK,SAAAiB,GACJN,EAAiBM,KAElBS,MAAM,SAAAC,GACLC,OAAOC,QAAQC,KAAKH","file":"main.e6a85a8d.js","sourceRoot":"..\\src","sourcesContent":["'use strict';\n\nconst BASE_URL = 'https://mate-academy.github.io/'\n  + 'phone-catalogue-static/api/phones';\n\nconst phonesWithDetails = [];\n\nconst request = (url = '') => {\n  return fetch(`${BASE_URL}${url}.json`)\n    .then(response => {\n      if (!response.ok) {\n        setTimeout(() => {\n          return Promise.reject(\n            new Error(`${response.status} - ${response.statusText}`)\n          );\n        }, 5000);\n      }\n\n      return response.json();\n    });\n};\n\nconst getPhones = () => request();\n\nfunction getPhonesDetails(arr) {\n  return Promise.all(arr.map(phone => request(`/${phone.id}`)))\n    .then(result => {\n      result.forEach(el => phonesWithDetails.push(el));\n\n      document.body.insertAdjacentHTML('afterbegin',\n        `\n     <ul>\n     ${result.map(phone => `<li>${phone.name}</li>`).join('')}\n     </ul>\n       `\n      );\n    });\n}\n\ngetPhones()\n  .then(result => {\n    getPhonesDetails(result);\n  })\n  .catch(error => {\n    window.console.warn(error);\n  });\n"]}